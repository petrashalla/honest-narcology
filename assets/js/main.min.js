const animationItems=document.querySelectorAll(".animation-item");if(animationItems.length>0){function onEntry(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})}let e=new IntersectionObserver(onEntry,{threshold:[.5]});for(let t of animationItems)e.observe(t)}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".header__bottom_search").forEach(e=>{const t=e.querySelector('input[type="search"]'),n=e.querySelector(".header__search-result"),o=n.querySelector(".header__search-result_list"),s=n.querySelector(".header__search-result_text");t.addEventListener("input",function(){const e=this.value.trim().toLowerCase();!function(e){if(o.innerHTML="",0===e.length)return s.textContent="Результатов не найдено.",void(n.style.display="block");s.textContent="Результаты поиска:",e.forEach(e=>{const t=document.createElement("li"),n=document.createElement("a");n.href="#",n.className="header__search-result_link",n.textContent=e,t.appendChild(n),o.appendChild(t)}),n.style.display="block"}(["Лечение алкоголизма","Лечение женского алкоголизма","Лечение пивного алкоголизма","Капельница от алкоголизма"].filter(t=>t.toLowerCase().includes(e)))}),document.addEventListener("click",function(e){const o=n.contains(e.target),s=t.contains(e.target);o||s||(n.style.display="none")})})});let scrollWidthFunc=()=>{let e=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.paddingRight=e+"px",document.querySelector("header").style.paddingRight=e+"px"};const scrollTop=document.querySelector(".scroll-top");scrollTop&&scrollTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),["load","resize"].forEach(e=>{window.addEventListener(e,function(){let e=header.clientHeight;const t=header.querySelector(".header__plashka");if(t)var n=t.offsetHeight;window.onscroll=function(o){window.scrollY>e?t.classList.contains("hide")||(t.classList.add("hide"),t.style.height="0px"):(t.style.height=n+"px",t.classList.remove("hide"))}})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".burger__menu");if(e){const t=document.querySelector(".header__bottom"),n=document.querySelector(".header"),o=document.querySelector(".header__plashka");e.addEventListener("click",()=>{e.classList.contains("burger__menu--active")?(o.style.display="block",document.body.classList.remove("lock")):o.style.display="none",t.classList.toggle("header__bottom--active"),e.classList.toggle("burger__menu--active"),n.classList.toggle("header--active"),document.querySelector("html").classList.toggle("burger-lock")})}function t(e){e.classList.remove("open"),document.body.classList.remove("lock"),document.querySelector("html").removeAttribute("style"),document.querySelector("html").classList.remove("lock"),document.querySelector("header").removeAttribute("style")}[].forEach.call(document.querySelectorAll("input[type=tel]"),function(e){let t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();let n="+7 (___) ___ ____",o=0,s=n.replace(/\D/g,""),i=this.value.replace(/\D/g,""),c=n.replace(/[_\d]/g,function(e){return o<i.length?i.charAt(o++)||s.charAt(o):e});-1!=(o=c.indexOf("_"))&&(o<5&&(o=3),c=c.slice(0,o));let r=n.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(r=new RegExp("^"+r+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=c),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)});const n=document.querySelectorAll(".popup-btn"),o=document.querySelectorAll(".popup");document.querySelectorAll(".close-popup, .popup__btn-ok").forEach(function(e){e.addEventListener("click",function(e){t(e.target.closest(".popup"))})}),document.querySelector(".popup__btn-reload").addEventListener("click",function(){location.reload()}),n.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();const n=e.currentTarget.dataset.path,s=document.querySelector(`[data-target="${n}"]`);s&&(o.forEach(function(e){t(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||t(e.target.closest(".popup"))})}),s.classList.add("open"),document.querySelector("html").classList.add("lock"))})});let s=!1;document.addEventListener("scroll",function(){const e=document.getElementById("map");if(e){if(e.getBoundingClientRect().top<window.innerHeight&&!s){if(!document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')){const e=document.createElement("script");e.type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.head.appendChild(e)}setTimeout(function(){ymaps.ready(function(){if(document.querySelector("#map")){var e=new ymaps.Map("map",{center:[59.945179,30.386143],zoom:15,controls:[]}),t=new ymaps.Placemark(e.getCenter(),{hintContent:"Санкт-Петербург, Очаковская ул, 9",balloonContent:"Санкт-Петербург, Очаковская ул, 9"},{iconLayout:"default#image",iconImageHref:"assets/img/icons/map-pin.png",iconImageSize:[21,26],iconImageOffset:[-15,-31]});e.geoObjects.add(t),e.behaviors.disable(["scrollZoom"])}})},500),s=!0}}});const i=document.getElementsByClassName("faq__accordion");for(let e=0;e<i.length;e++)i[e].addEventListener("click",function(){this.classList.toggle("price__accordion--active"),this.querySelector(".faq__more").classList.toggle("faq__more--active");const e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"});const c=document.getElementsByClassName("footer__nav");for(let e=0;e<c.length;e++)c[e].addEventListener("click",function(){if(window.innerWidth<1e3){this.querySelector(".footer__nav_title").classList.toggle("footer__nav_title--active");const e=this.querySelector(".footer__nav_list");"flex"===e.style.display?e.style.display="none":e.style.display="flex"}});new Swiper(".commentsSwiper",{slidesPerView:1.2,spaceBetween:10,pagination:{el:".comments__swiper-pagination",type:"fraction"},navigation:{nextEl:".comments__swiper-button-next",prevEl:".comments__swiper-button-prev"},breakpoints:{1000:{slidesPerView:3},640:{slidesPerView:2}}}),new Swiper(".licenseSwiper",{slidesPerView:1.2,spaceBetween:10,freeMode:!0,navigation:{nextEl:".license__swiper-button-next",prevEl:".license__swiper-button-prev"},breakpoints:{850:{slidesPerView:4,spaceBetween:10},640:{slidesPerView:3,spaceBetween:10},500:{slidesPerView:2,spaceBetween:10}}}),new Swiper(".licenseDoctorSwiper",{slidesPerView:1.4,spaceBetween:10,freeMode:!0,navigation:{nextEl:".license-doctor__swiper-button-next",prevEl:".license-doctor__swiper-button-prev"},breakpoints:{688:{slidesPerView:2,spaceBetween:20}}}),new Swiper(".doctorsSwiper",{slidesPerView:1.2,spaceBetween:8,freeMode:!0,pagination:{el:".doctors__swiper-pagination",clickable:!0},navigation:{nextEl:".doctors__swiper-button-next",prevEl:".doctors__swiper-button-prev"},breakpoints:{1150:{slidesPerView:4,spaceBetween:20},860:{slidesPerView:3,spaceBetween:20},550:{slidesPerView:2,spaceBetween:13}}}),new Swiper(".gallerySwiper",{slidesPerView:1.2,spaceBetween:10,freeMode:!0,navigation:{nextEl:".gallery__swiper-button-next",prevEl:".gallery__swiper-button-prev"},breakpoints:{1200:{slidesPerView:2,spaceBetween:10},950:{slidesPerView:3,spaceBetween:10},600:{slidesPerView:2,spaceBetween:10}}}),new Swiper(".faqSwiper",{slidesPerView:1,spaceBetween:10,navigation:{nextEl:".faq__swiper-button-next",prevEl:".faq__swiper-button-prev"}});const r=document.querySelector(".navigation");if(r){const e=document.querySelectorAll(".text__content h1, .text__content h2, .text__content h3");if(e.length>0){for(let t=0;t<e.length;t+=1){const n=e[t],o=n.textContent,s=document.querySelector(".navigation__item ul"),i=document.createElement("li"),c=document.createElement("a");i.classList.add("navigation__list-item"),c.classList.add("navigation__link"),n.setAttribute("id",`${t}`),c.setAttribute("href",`$${t}`),c.textContent=" "+o,i.append(c),s.append(i)}document.querySelectorAll('a[href^="$"').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("href").substring(1);const n=document.getElementById(t).getBoundingClientRect().top-280;window.scrollBy({top:n,behavior:"smooth"})})})}else r.querySelector(".navigation__item").remove()}document.getElementById("popup__cookie_btn").addEventListener("click",function(){document.getElementById("popup__cookie").style.display="none"})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".hide-item"),t=document.querySelectorAll(".header__sublink_button");function n(t){t.stopPropagation();const n=this.classList.contains("hide-item--active");e.forEach(e=>e.classList.remove("hide-item--active")),n||this.classList.add("hide-item--active")}function o(e){e.stopPropagation();const t=this.nextElementSibling,n=t.classList.contains("show");document.querySelectorAll(".header__subsubmenu_wrapper").forEach(e=>{e.classList.remove("show")}),n||t.classList.add("show")}e.forEach(e=>{e.addEventListener("click",n)}),t.forEach(e=>{e.addEventListener("click",o)}),document.addEventListener("click",function(e){e.target.closest(".header__bottom_nav")||(document.querySelectorAll(".hide-item--active").forEach(e=>{e.classList.remove("hide-item--active")}),document.querySelectorAll(".header__subsubmenu_wrapper").forEach(e=>{e.classList.remove("show")}))}),document.querySelectorAll(".header__subsubmenu_wrapper").forEach(e=>{e.addEventListener("click",function(e){e.stopPropagation()})})});const info=document.querySelectorAll(".text-block__more");for(let e=0;e<info.length;e++)info[e].addEventListener("click",function(){this.previousElementSibling.classList.toggle("text-block__contant_more--active"),"Скрыть"===this.innerText?this.innerText="Читать  далее":this.innerText="Скрыть"});const showTab=e=>{const t=e.closest(".tab");if(e.classList.contains("tab__btn--active"))return;const n=e.dataset.id,o=t.querySelectorAll(`.tabcontent[data-id="${n}"]`);console.log(o);for(let t=0;t<o.length;t++)if(o[t]){document.querySelector(".tab__btn--active").classList.remove("tab__btn--active");const t=document.querySelectorAll(".tabcontent--active");for(let e=0;e<t.length;e++)t[e].classList.remove("tabcontent--active");e.classList.add("tab__btn--active");for(let e=0;e<t.length;e++)o[e].classList.add("tabcontent--active")}};document.addEventListener("click",e=>{if(e.target&&!e.target.closest(".tab__btn"))return;const t=e.target.closest(".tab__btn");showTab(t)}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("input[type=search]");e.length>0&&e.forEach(e=>{const t=e.closest(".search-wrapper");if(t){const n=t.querySelector(".popup__search-result"),o=t.querySelector(".popup__search-city"),s=n.querySelector(".no-results-message");e.addEventListener("input",function(){let i=e.value.toUpperCase(),c=t.querySelectorAll(".search-list"),r=0;c.forEach(e=>{let t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)t[e].querySelector(".search-name").innerHTML.toUpperCase().indexOf(i)>-1?(t[e].classList.remove("none"),r++):t[e].classList.add("none")}),""===e.value.trim()?(n.classList.add("none"),o.classList.remove("none")):(n.classList.remove("none"),o.classList.add("none")),0===r&&""!==e.value.trim()?s.classList.remove("none"):s.classList.add("none")})}})}),document.querySelectorAll(".price__more").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".price__item"),n=t.querySelector(".price__description");"none"===n.style.display||""===n.style.display?(n.style.display="block",e.classList.add("price__more--active"),t.style.alignItems="flex-start"):(n.style.display="none",e.classList.remove("price__more--active"),t.style.alignItems="center")})}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".footer__btn-up").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})});